# Голосовой AI-бот для Telegram

Телеграм-бот, обеспечивающий голосовое взаимодействие с пользователем. Бот способен обрабатывать голосовые сообщения пользователей, преобразовывать их в текст, получать ответы от OpenAI и отправлять их в виде голосовых сообщений.

## Возможности

- Обработка голосовых сообщений пользователей с преобразованием их в текст и генерацией голосовых ответов
- Обработка текстовых сообщений с генерацией голосовых ответов
- Сохранение контекста диалога для каждого пользователя

## Требования

- Python 3.11 или выше
- Токен Telegram-бота 
- Токен API OpenAI

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone git@github.com:snegirevdv/voice-ai-bot.git
   cd voice-ai-bot
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # для Linux/macOS
   venv\Scripts\activate     # для Windows
   ```

3. Установите зависимости:
   ```bash
   make build                         # для Linux/macOS
   pip install -r requirements.txt    # для любой ОС
   ```

4. Создайте файл `.env` на основе примера `.env.example`:
   ```bash
   cp .env.example .env
   ```

5. Отредактируйте `.env`, добавив свои токены.

## Запуск

Запустите бота с помощью команды:
```bash
make start         # для Linux/macOS
python -m app.main # для любой ОС
```

## Логирование

Все действия бота логируются с помощью библиотеки `loguru`. Логи выводятся в консоль с указанием времени, уровня логирования, модуля и строки кода.

## Обработка ошибок

Бот обрабатывает следующие типы ошибок:
- Превышение лимита запросов к API OpenAI
- Тайм-ауты запросов
- Общие ошибки при обработке сообщений

## Автор

Денис Снегирев (snegirev.dv@gmail.com)
